//********************************************************
//****  Header file for 3310_routines.c  *****
//********************************************************
//Controller:	ATmega32 (Clock: 1 Mhz-internal)
//Compiler:		ImageCraft ICCAVR
//Author:		CC Dharmani, Chennai (India)
//Date:			Sep 2008
//********************************************************
#ifndef _3310_ROUTINES_H_

#define _3310_ROUTINES_H_

#include <avr/pgmspace.h>
#include <string.h>
#include "global.h"


#define SET_DC_PIN                 PORTC |= (1 << 3)
#define CLEAR_DC_PIN               PORTC &= ~(1 << 3)
#define SET_SCE_PIN                PORTB |= (1 << 4)
#define CLEAR_SCE_PIN              PORTB &= ~(1 << 4)
#define SET_RST_PIN                PORTC |= (1 << 5)
#define CLEAR_RST_PIN              PORTC &= ~(1 << 5)


/*--------------------------------------------------------------------------------------------------
                                 Public function prototypes
--------------------------------------------------------------------------------------------------*/
void LCD_init ( void );
void LCD_clear ( void );
void LCD_gotoXY ( unsigned char x, unsigned char y );
void LCD_gotoX (unsigned char x);
void LCD_gotoY (unsigned char y);
void LCD_writeChar ( unsigned char character );
void LCD_writeCharInv ( unsigned char character );
void LCD_writeData ( unsigned char data );
void LCD_writeCommand ( unsigned char command );
void LCD_writeString ( const char *string);
void LCD_writeStringInv ( const char *string);
void LCD_writePMstring ( const char *string ); // Функция для печати строк из PROGMEM
void LCD_writePMstringInv ( const char *string ); // Функция для печати строк из PROGMEM

//void LCD_setPixel ( unsigned char x, unsigned char y);
//void LCD_drawLine ( unsigned char x1, unsigned char y1, unsigned char x2, unsigned char y2 );
//void LCD_drawBorder (void );
//void LCD_Puts (const char *string );
//void delay_ms ( int millisec );
void spi_init(void);


static const unsigned char smallFont[] PROGMEM =
{
  0x00,0x00,0x00,0x00,0x00,0x00,      // 0x20  пробел
  0x00,0x00,0x4F,0x00,0x00,0x00,      // 0x21  !
  0x00,0x07,0x00,0x07,0x00,0x00,      // 0x22  "
  0x14,0x7F,0x14,0x7F,0x14,0x00,      // 0x23  #
  0x24,0x2A,0x7F,0x2A,0x12,0x00,      // 0x24  $
  0x63,0x13,0x08,0x64,0x63,0x00,      // 0x25  %
  0x36,0x49,0x55,0x22,0x50,0x00,      // 0x26  &
  0x00,0x05,0x03,0x00,0x00,0x00,      // 0x27  '
  0x1C,0x22,0x41,0x00,0x00,0x00,      // 0x28  (
  0x00,0x00,0x41,0x22,0x1C,0x00,      // 0x29  )
  0x14,0x08,0x3E,0x08,0x14,0x00,      // 0x2A  *
  0x08,0x08,0x3E,0x08,0x08,0x00,      // 0x2B  +
  0x00,0x00,0x50,0x30,0x00,0x00,      // 0x2C  ,
  0x08,0x08,0x08,0x08,0x08,0x00,      // 0x2D  -
  0x00,0x00,0x60,0x60,0x00,0x00,      // 0x2E  .
  0x20,0x10,0x08,0x04,0x02,0x00,      // 0x2F  /
  0x3E,0x51,0x49,0x45,0x3E,0x00,      // 0x30  0
  0x00,0x42,0x7F,0x40,0x00,0x00,      // 0x31  1
  0x42,0x61,0x51,0x49,0x46,0x00,      // 0x32  2
  0x21,0x41,0x45,0x4B,0x31,0x00,      // 0x33  3
  0x18,0x14,0x12,0x7F,0x10,0x00,      // 0x34  4
  0x27,0x45,0x45,0x45,0x39,0x00,      // 0x35  5
  0x3C,0x4A,0x49,0x49,0x30,0x00,      // 0x36  6
  0x01,0x71,0x09,0x05,0x03,0x00,      // 0x37  7
  0x36,0x49,0x49,0x49,0x36,0x00,      // 0x38  8
  0x06,0x49,0x49,0x29,0x1E,0x00,      // 0x39  9
  0x00,0x00,0x36,0x36,0x00,0x00,      // 0x3A  :
  0x00,0x00,0x56,0x36,0x00,0x00,      // 0x3B  ;
  0x08,0x14,0x22,0x41,0x00,0x00,      // 0x3C  <
  0x14,0x14,0x14,0x14,0x14,0x00,      // 0x3D  =
  0x00,0x41,0x22,0x14,0x08,0x00,      // 0x3E  >
  0x02,0x01,0x51,0x09,0x06,0x00,      // 0x3F  ?
  0x32,0x49,0x39,0x42,0x3C,0x00,      // 0x40  @
  0x7E,0x11,0x11,0x11,0x7E,0x00,      // 0x41  А
  0x7F,0x49,0x49,0x49,0x36,0x00,      // 0x42  В
  0x3E,0x41,0x41,0x41,0x22,0x00,      // 0x43  С
  0x7F,0x41,0x41,0x22,0x1C,0x00,      // 0x44  D
  0x7F,0x49,0x49,0x49,0x41,0x00,      // 0x45  Е
  0x7F,0x09,0x09,0x09,0x01,0x00,      // 0x46  F
  0x3E,0x41,0x49,0x49,0x7A,0x00,      // 0x47  G
  0x7F,0x08,0x08,0x08,0x7F,0x00,      // 0x48  Н
  0x00,0x41,0x7F,0x41,0x00,0x00,      // 0x49  I
  0x20,0x40,0x41,0x3F,0x01,0x00,      // 0x4A  J
  0x7F,0x08,0x14,0x22,0x41,0x00,      // 0x4B  К
  0x7F,0x40,0x40,0x40,0x40,0x00,      // 0x4C  L
  0x7F,0x02,0x04,0x02,0x7F,0x00,      // 0x4D  М
  0x7F,0x04,0x08,0x10,0x7F,0x00,      // 0x4E  N
  0x3E,0x41,0x41,0x41,0x3E,0x00,      // 0x4F  О
  0x7F,0x09,0x09,0x09,0x06,0x00,      // 0x50  Р
  0x3E,0x41,0x51,0x21,0x5E,0x00,      // 0x51  Q
  0x7F,0x09,0x19,0x29,0x46,0x00,      // 0x52  R
  0x46,0x49,0x49,0x49,0x31,0x00,      // 0x53  S
  0x01,0x01,0x7F,0x01,0x01,0x00,      // 0x54  Т
  0x3F,0x40,0x40,0x40,0x3F,0x00,      // 0x55  U
  0x1F,0x20,0x40,0x20,0x1F,0x00,      // 0x56  V
  0x3F,0x40,0x38,0x40,0x3F,0x00,      // 0x57  W
  0x63,0x14,0x08,0x14,0x63,0x00,      // 0x58  Х
  0x07,0x08,0x78,0x08,0x07,0x00,      // 0x59  Y
  0x61,0x51,0x49,0x45,0x43,0x00,      // 0x5A  Z
  0x00,0x7F,0x41,0x41,0x00,0x00,      // 0x5B  [
  0x18,0x24,0x7E,0x24,0x18,0x00,      // 0x5C  ф
  0x00,0x41,0x41,0x7F,0x00,0x00,      // 0x5D  ]
  0x04,0x02,0x01,0x02,0x04,0x00,      // 0x5E  ^
  0x40,0x40,0x40,0x40,0x40,0x00,      // 0x5F  _
  0x00,0x00,0x01,0x02,0x00,0x00,      // 0x60  '
  0x20,0x54,0x54,0x54,0x78,0x00,      // 0x61  а
  0x7F,0x48,0x44,0x44,0x38,0x00,      // 0x62  b
  0x38,0x44,0x44,0x44,0x20,0x00,      // 0x63  с
  0x38,0x44,0x44,0x48,0x7F,0x00,      // 0x64  d
  0x38,0x54,0x54,0x54,0x18,0x00,      // 0x65  е
  0x08,0x7E,0x09,0x01,0x02,0x00,      // 0x66  f
  0x08,0x54,0x54,0x54,0x3C,0x00,      // 0x67  g
  0x7F,0x08,0x04,0x04,0x78,0x00,      // 0x68  h
  0x00,0x44,0x7D,0x40,0x00,0x00,      // 0x69  i
  0x20,0x40,0x44,0x3D,0x00,0x00,      // 0x6A  j
  0x00,0x7F,0x10,0x28,0x44,0x00,      // 0x6B  k
  0x00,0x41,0x7F,0x40,0x00,0x00,      // 0x6C  l
  0x7C,0x04,0x18,0x04,0x78,0x00,      // 0x6D  m
  0x7C,0x08,0x04,0x04,0x78,0x00,      // 0x6E  n
  0x38,0x44,0x44,0x44,0x38,0x00,      // 0x6F  o
  0x7C,0x14,0x14,0x14,0x08,0x00,      // 0x70  р
  0x08,0x14,0x14,0x14,0x7C,0x00,      // 0x71  q
  0x7C,0x08,0x04,0x04,0x08,0x00,      // 0x72  r
  0x48,0x54,0x54,0x54,0x24,0x00,      // 0x73  s
  0x04,0x3F,0x44,0x40,0x20,0x00,      // 0x74  t
  0x3C,0x40,0x40,0x20,0x7C,0x00,      // 0x75  u
  0x1C,0x20,0x40,0x20,0x1C,0x00,      // 0x76  v
  0x3C,0x40,0x30,0x40,0x3C,0x00,      // 0x77  w
  0x44,0x28,0x10,0x28,0x44,0x00,      // 0x78  х
  0x0C,0x50,0x50,0x50,0x3C,0x00,      // 0x79  у
  0x44,0x64,0x54,0x4C,0x44,0x00,      // 0x7A  z
  0x00,0x08,0x36,0x41,0x00,0x00,      // 0x7B  {
    0x00,0x00,0x7F,0x00,0x00,0x00,      // 0x7C  |
  0x00,0x41,0x36,0x08,0x00,0x00,      // 0x7D  }
  0x10,0x08,0x08,0x10,0x10,0x00,      // 0x7E  ~
  
  //============================================================================================
  //	С этого места можно формировать любые символы. Самое главное не удалять строки. И что бы количество данных было сохранено
  
  0xFF,0x01,0x01,0x01,0x01,0x01,      // 0x7F символы псевдографики
  0x7E,0x42,0x7E,0x42,0x99,0xA5,      // 0x80 электродвигатель 1
  0xA5,0x99,0x42,0x7E,0x42,0x7E,      // 0x81 электродвигатель 2
  0x01,0x01,0x01,0x01,0x01,0xFF,      // 0x82
  0xFF,0x00,0x00,0x00,0x00,0x00,      // 0x83
  0x00,0x00,0xFF,0x00,0x00,0x00,      // 0x84
  0x00,0x00,0x00,0x00,0x00,0xFF,      // 0x85
  0xFF,0x08,0x08,0x08,0x08,0x08,      // 0x86
  0x08,0x08,0x08,0x08,0x08,0x08,      // 0x87
  0x80,0x80,0xFF,0x80,0x80,0x80,      // 0x88
  0x80,0x80,0x80,0x80,0x80,0xFF,      // 0x89
  0xFF,0x80,0x80,0x80,0x80,0x80,      // 0x8A
  0x80,0x80,0x80,0x80,0x80,0x80,      // 0x8B
  0x08,0x08,0xFF,0x08,0x08,0x08,      // 0x8C
  0x08,0x08,0x08,0x08,0x08,0xFF,      // 0x8D
  0xFF,0x01,0xFD,0x05,0x05,0x05,      // 0x8E
  0x05,0x05,0x05,0x05,0x05,0x05,      // 0x8F
  0x05,0xFD,0x01,0xFD,0x05,0x05,      // 0x90
  0x05,0x05,0x05,0xFD,0x01,0xFF,      // 0x91
  0xFF,0x00,0xFF,0x00,0x00,0x00,      // 0x92
  0x00,0xFF,0x00,0xFF,0x00,0x00,      // 0x93
  0x00,0x00,0x00,0xFF,0x00,0xFF,      // 0x94
  0xFF,0x00,0xF7,0x14,0x14,0x14,      // 0x95
  0x14,0x14,0x14,0x14,0x14,0x14,      // 0x96
  0x14,0xF7,0x00,0xF7,0x14,0x14,      // 0x97
  0x14,0x14,0x14,0xF7,0x00,0xFF,      // 0x98
  0xFF,0x80,0xBF,0xA0,0xA0,0xA0,      // 0x99
  0xA0,0xA0,0xA0,0xA0,0xA0,0xA0,      // 0x9A
  0xA0,0xBF,0x80,0xBF,0xA0,0xA0,      // 0x9B
  0xA0,0xA0,0xA0,0xBF,0x80,0xFF,      // 0x9C
  0x00,0x00,0x7C,0x44,0x7C,0x00,      // 0x9D 0 маленькие цифры
  0x00,0x00,0x00,0x00,0x7C,0x00,      // 0x9E 1
  0x00,0x00,0x74,0x54,0x5C,0x00,      // 0x9F 2
  0x00,0x00,0x54,0x54,0x7C,0x00,      // 0xA0 3
  0x00,0x00,0x1C,0x10,0x7C,0x00,      // 0xA1 4
  0x00,0x00,0x5C,0x54,0x74,0x00,      // 0xA2 5
  0x00,0x00,0x7C,0x54,0x74,0x00,      // 0xA3 6
  0x00,0x00,0x04,0x04,0x7C,0x00,      // 0xA4 7
  0x00,0x00,0x7C,0x54,0x7C,0x00,      // 0xA5 8
  0x41,0x5D,0x55,0x49,0x41,0x5D,      // 0xA6 dli
  0x51,0x51,0x41,0x5D,0x41,0x00,      // 0xA7
  0x11,0x2A,0x44,0x11,0x2A,0x44,      // 0xA8 нагрев
  0x55,0x55,0x55,0x55,0x55,0x00,      // 0xA9 дымогенератор
  0x08,0x04,0x08,0x08,0x04,0x00,      // 0xAA ~; spe *
  0x04,0x06,0xFF,0xFF,0x06,0x04,      // 0xAB su * стрелка верх
  0x20,0x60,0xFF,0xFF,0x60,0x20,      // 0xAC sd * // вниз
  0x08,0x08,0x2A,0x1C,0x08,0x00,      // 0xAD sr * стрелка в право ->
  0x08,0x1C,0x2A,0x08,0x08,0x00,      // 0xAE sl * <- стрелка в влево
  0x00,0xE0,0x10,0xC8,0x24,0x14,      // 0xAF верхний левый угол
  0x14,0x14,0x14,0x14,0x14,0x14,      // 0xB0 горизонтальные линии верняя
  0x14,0x24,0xC8,0x10,0xE0,0x00,      // 0xB1 верний правый угол
  0x00,0xFF,0x00,0xFF,0x00,0x00,      // 0xB2 веритикальные левые линии
  0x00,0x00,0xFF,0x00,0xFF,0x00,      // 0xB3 вертикальные правые линии
  0x00,0x07,0x08,0x13,0x24,0x28,      // 0xB4 нижний левый угол
  0x28,0x24,0x13,0x08,0x07,0x00,      // 0xB5 нижний правый угол
  0x28,0x28,0x28,0x28,0x28,0x28,      // 0xB6 горизонтальные линии нижняя
  0x08,0x1C,0x3E,0x7F,0x00,0x00,      // 0xB7 треугольник влево
  0x00,0x7F,0x3E,0x1C,0x08,0x00,      // 0xB8 треугольник вправо
  0x10,0x1E,0x3F,0x1E,0x10,0x00,      // 0xB9 kol * колокольчик
  0xC6,0xA4,0x18,0x18,0x25,0x63,      // 0xBA вентилятор
  0x7E,0x42,0x42,0x42,0x7E,0x00,      // 0xBB квадрат пустой
  0x7E,0x7E,0x7E,0x7E,0x7E,0x00,      // 0xBC квадрат полный
  0x0C,0x30,0xC0,0x30,0x0C,0x03,      // 0xBD птичка
  0x01,0xFF,0x80,0x80,0xFF,0x01,      // 0xBE импульс
  0x06,0x09,0x09,0x06,0x00,0x00,      // 0xBF градус *
  //============================================================================================
  //С этого места начинается кириллица и коды менять нельзя
  
  0x7E,0x11,0x11,0x11,0x7E,0x00,      // 0xC0  А
  0x7F,0x49,0x49,0x49,0x30,0x00,      // Б
  0x7F,0x49,0x49,0x49,0x36,0x00,      // В
  0x7F,0x01,0x01,0x01,0x03,0x00,      // Г
  0xE0,0x51,0x4F,0x41,0xFF,0x00,      // Д
  0x7F,0x49,0x49,0x49,0x41,0x00,      // Е
  0x77,0x08,0x7F,0x08,0x77,0x00,      // Ж
  0x49,0x49,0x49,0x49,0x36,0x00,      // З
  0x7F,0x10,0x08,0x04,0x7F,0x00,      // И
  0x7C,0x21,0x12,0x09,0x7C,0x00,      // Й
  0x7F,0x08,0x14,0x22,0x41,0x00,      // К
  0x20,0x41,0x3F,0x01,0x7F,0x00,      // Л
  0x7F,0x02,0x04,0x02,0x7F,0x00,      // М
  0x7F,0x08,0x08,0x08,0x7F,0x00,      // Н
  0x3E,0x41,0x41,0x41,0x3E,0x00,      // О
  0x7F,0x01,0x01,0x01,0x7F,0x00,      // П
  0x7F,0x09,0x09,0x09,0x06,0x00,      // 0xD0  Р
  0x3E,0x41,0x41,0x41,0x22,0x00,      // С
  0x01,0x01,0x7F,0x01,0x01,0x00,      // Т
  0x47,0x28,0x10,0x08,0x07,0x00,      // У
  0x18,0x24,0x7F,0x24,0x18,0x00,      // ф
  0x63,0x14,0x08,0x14,0x63,0x00,      // Х
  0x7F,0x40,0x40,0x40,0xFF,0x00,      // Ц
  0x07,0x08,0x08,0x08,0x7F,0x00,      // Ч
  0x7F,0x40,0x7F,0x40,0x7F,0x00,      // Ш
  0x7F,0x40,0x7F,0x40,0xFF,0x00,      // Щ
  0x01,0x7F,0x48,0x48,0x30,0x00,      // Ъ
  0x7E,0x48,0x30,0x00,0x7E,0x00,      // Ы
  0x7E,0x48,0x48,0x48,0x30,0x00,      // Ь
  0x22,0x41,0x49,0x49,0x3E,0x00,      // Э
  0x7F,0x08,0x3E,0x41,0x3E,0x00,      // Ю
  0x46,0x29,0x19,0x09,0x7F,0x00,      // Я
  0x20,0x54,0x54,0x54,0x78,0x00,      // 0xE0  а
  0x3C,0x4A,0x4A,0x49,0x31,0x00,      // б
  0x7C,0x54,0x54,0x28,0x00,0x00,      // в
  0x7C,0x04,0x04,0x04,0x0C,0x00,      // г
  0xE0,0x54,0x4C,0x44,0xFC,0x00,      // д
  0x38,0x54,0x54,0x54,0x18,0x00,      // е
  0x6C,0x10,0x7C,0x10,0x6C,0x00,      // ж
  0x44,0x44,0x54,0x54,0x28,0x00,      // з
  0x7C,0x20,0x10,0x08,0x7C,0x00,      // и
  0x78,0x42,0x24,0x12,0x78,0x00,      // й
  0x7C,0x10,0x28,0x44,0x00,0x00,      // к
  0x20,0x44,0x3C,0x04,0x7C,0x00,      // л
  0x7C,0x08,0x10,0x08,0x7C,0x00,      // м
  0x7C,0x10,0x10,0x10,0x7C,0x00,      // н
  0x38,0x44,0x44,0x44,0x38,0x00,      // o
  0x7C,0x04,0x04,0x04,0x7C,0x00,      // п
  0x7C,0x14,0x14,0x14,0x08,0x00,      // 0xF0  р
  0x38,0x44,0x44,0x44,0x20,0x00,      // с
  0x04,0x04,0x7C,0x04,0x04,0x00,      // т
  0x0C,0x50,0x50,0x50,0x3C,0x00,      // у
  0x1C,0x22,0x7F,0x22,0x1C,0x00,      // Ф
  0x44,0x28,0x10,0x28,0x44,0x00,      // х
  0x7C,0x40,0x40,0x40,0xFC,0x00,      // ц
  0x0C,0x10,0x10,0x10,0x7C,0x00,      // ч
  0x7C,0x40,0x7C,0x40,0x7C,0x00,      // ш
  0x7C,0x40,0x7C,0x40,0xFC,0x00,      // щ
  0x04,0x7C,0x50,0x50,0x20,0x00,      // ъ
  0x7C,0x50,0x20,0x00,0x7C,0x00,      // ы
  0x7C,0x50,0x50,0x20,0x00,0x00,      // ь
  0x28,0x44,0x54,0x54,0x38,0x00,      // э
  0x7C,0x10,0x38,0x44,0x38,0x00,      // ю
  0x08,0x54,0x34,0x14,0x7C,0x00,      // 0xFE  я
};

#endif  //  _3310_ROUTINES_H_
